(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{354:function(t,s,a){"use strict";a.r(s);var e=a(42),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"使用shell脚本拉取多个项目代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用shell脚本拉取多个项目代码"}},[t._v("#")]),t._v(" 使用shell脚本拉取多个项目代码")]),t._v(" "),a("h6",{attrs:{id:"问题-服务器上部署4个项目-每一次更新代码都要到不同的目录中去拉取代码-效率太低"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题-服务器上部署4个项目-每一次更新代码都要到不同的目录中去拉取代码-效率太低"}},[t._v("#")]),t._v(" 问题: 服务器上部署4个项目,每一次更新代码都要到不同的目录中去拉取代码,效率太低")]),t._v(" "),a("h6",{attrs:{id:"目标-决定使用shell脚本-一行命令实现拉取所有的项目代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-决定使用shell脚本-一行命令实现拉取所有的项目代码"}},[t._v("#")]),t._v(" 目标: 决定使用shell脚本 一行命令实现拉取所有的项目代码")]),t._v(" "),a("h6",{attrs:{id:"实现-其实是把在服务器上要敲的命令集合在一个文件内-而服务器又可以解释执行这个文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现-其实是把在服务器上要敲的命令集合在一个文件内-而服务器又可以解释执行这个文件"}},[t._v("#")]),t._v(" 实现: 其实是把在服务器上要敲的命令集合在一个文件内,而服务器又可以解释执行这个文件")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("在服务器上新建一个以 "),a("strong",[t._v(".sh")]),t._v(" 结尾的文件, "),a("code",[t._v("touch pull.sh")])])]),t._v(" "),a("li",[a("p",[t._v("将命令写入 pull.sh 文件中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#!/bin/bash\ncd /usr/www/www.test.com\ngit pull origin master\ncd /usr/www/admin.test.com\ngit pull origin master\ncd /usr/www/m.test.com\ngit pull origin master\ncd /usr/www/api.test.com\ngit pull origin master\nchmod -R 777 runtime\n")])])])]),t._v(" "),a("li",[a("p",[t._v("运行 "),a("code",[t._v("/bin/bash pull.sh")]),t._v(" 即可")])])]),t._v(" "),a("h5",{attrs:{id:"下一步-下一步使用git仓库-webhooks-触发自动拉取仓库代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下一步-下一步使用git仓库-webhooks-触发自动拉取仓库代码"}},[t._v("#")]),t._v(" 下一步: 下一步使用git仓库 webhooks 触发自动拉取仓库代码")]),t._v(" "),a("h6",{attrs:{id:"思考-负载上的多台服务器如何构建自动化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思考-负载上的多台服务器如何构建自动化"}},[t._v("#")]),t._v(" 思考: 负载上的多台服务器如何构建自动化")]),t._v(" "),a("p",[t._v("参考:\n"),a("a",{attrs:{href:"https://github.com/qinjx/30min_guides/blob/master/shell.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Shell脚本编程30分钟入门"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);